package com.hackcmu.goatswithouthats;

import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.net.Socket;
import java.net.SocketAddress;
import java.net.UnknownHostException;

import android.util.Log;

public class Connection extends Thread {
	
	public Socket s;
	String hostname;
	int port;
	InputStream instream;
	OutputStream outstream;

	public Connection(String hostname, int port)
	{
		this.hostname = hostname;
		this.port = port;
	}
	
	public void run()
	{
		try
		{
			s = new Socket(hostname, port);
			instream = s.getInputStream();
			outstream = s.getOutputStream();
		}
		catch (UnknownHostException e)
		{
			e.printStackTrace();
		}
		catch (IOException e)
		{
			e.printStackTrace();
		}
		while(true)
		{
			pushByte((byte)2);
		}
	}
	
	public void pushByte(byte b)
	{
		try
		{
			byte[] buffer = {b};
			outstream.write(buffer);
		}
		catch (IOException e)
		{
			e.printStackTrace();
		}
	}
	
}
